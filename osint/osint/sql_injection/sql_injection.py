import requests
from bs4 import BeautifulSoup
from urllib.parse import urljoin


# Function to check for SQL injection vulnerability
def check_sql_injection(url):
    try:
        payload = "1' OR '1'='1"
        response = requests.get(urljoin(url, '?id=' + payload))
        if 'error' in response.text:
            print(f'SQL injection vulnerability detected on {url}')
            print('Vulnerability percentage: 100%')
            return 1
        else:
            print(f'No SQL injection vulnerability detected on {url}')
            print('Vulnerability percentage: 0%')
            return 1
    except requests.exceptions.RequestException as e:
        print(f'Error occurred while checking SQL injection vulnerability on {url}')
        print(f'Error message: {e}')

