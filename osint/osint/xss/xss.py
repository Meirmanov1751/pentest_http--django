import requests
from urllib.parse import urljoin
from bs4 import BeautifulSoup


# Function to check for XSS vulnerability
def check_xss(url):
    try:
        payload = '<script>alert("XSS")</script>'
        response = requests.get(urljoin(url, payload))
        soup = BeautifulSoup(response.text, 'html.parser')
        if payload in soup.text:
            print(f'XSS vulnerability detected on {url}')
            print('Vulnerability percentage: 100%')
            return 1
        else:
            print(f'No XSS vulnerability detected on {url}')
            print('Vulnerability percentage: 0%')
            return 0
    except requests.exceptions.RequestException as e:
        print(f'Error occurred while checking XSS vulnerability on {url}')
        print(f'Error message: {e}')

